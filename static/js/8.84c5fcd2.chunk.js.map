{"version":3,"sources":["../node_modules/cesium/Source/Core sync","components/CesiumViewer/Viewer.tsx","components/CesiumViewer/src/camera/EathSpin.ts","pages/Login.tsx"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Viewer","onViewerMounted","widgetOption","useEffect","window","CESIUM_BASE_URL","location","origin","viewer","Cesium","animation","clock","timeline","fullscreenButton","fullscreen","projectionPicker","toolbar","navigationHelpButton","sceneModePicker","geocoder","baseLayerPicker","homeButton","scene","_creditContainer","style","display","height","width","EathSpin","this","handleSpin","bind","postUpdate","addEventListener","removeEventListener","time","mode","SCENE3D","icrfToFixed","computeIcrfToFixedMatrix","camera","offset","clone","position","transform","fromRotationTranslation","lookAtTransform","Login","props","Spinning","className","skyBox","sources","positiveX","negativeX","positiveY","negativeY","positiveZ","negativeZ","globe","enableLighting","shouldAnimate","multiplier","start","Typography","variant","align","FormControl","InputLabel","htmlFor","Input","startAdornment","InputAdornment","defaultValue","Button","color","onClick","stop","console","log","history","push"],"mappings":"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","file":"static/js/8.84c5fcd2.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 141;","import React,{ FC, useEffect } from \"react\";\nimport { ViewerProps } from \"./interface\";\nimport * as Cesium from \"cesium\"\nimport \"cesium/Source/Widgets/widgets.css\"\n\n\n\nconst Viewer = ({\n    onViewerMounted,\n    widgetOption\n}:ViewerProps) =>\n{\n    useEffect(() => {\n        (window as any).CESIUM_BASE_URL = window.location.origin\n        const viewer = new Cesium.Viewer(\"cesium-viewer-container\", {\n            animation: widgetOption?.clock ? true : false,\n            timeline: widgetOption?.timeline ? true : false,\n            fullscreenButton: widgetOption?.fullscreen ? true : false,\n            projectionPicker: widgetOption?.toolbar ? true : false,\n            navigationHelpButton: widgetOption?.toolbar ? true : false,\n            sceneModePicker: widgetOption?.toolbar ? true : false,\n            geocoder: widgetOption?.toolbar ? true : false,\n            baseLayerPicker: widgetOption?.toolbar ? true : false,\n            homeButton: widgetOption?.toolbar ? true : false,\n\n        })\n        const s = (viewer.scene as any)\n        s._creditContainer.style.display = \"none\"\n        if (onViewerMounted) { onViewerMounted(viewer) }\n\n        (window as any).viewer = viewer\n        \n    }, [])\n    return(\n        <div id=\"cesium-viewer-container\" style={{height: '100%',width: '100%'}}></div>\n    )\n}\n\nexport default Viewer","import JulianDate from \"cesium/Source/Core/JulianDate\";\nimport * as Cesium from \"cesium\"\nimport Viewer from \"cesium/Source/Widgets/Viewer/Viewer\";\nimport Scene from \"cesium/Source/Scene/Scene\";\n\n  class EathSpin {\n      viewer: Viewer;\n      constructor(viewer: Viewer) {\n        this.viewer = viewer\n        this.handleSpin = this.handleSpin.bind(this)\n      }\n      start(): void {\n        this.viewer.scene.postUpdate.addEventListener(this.handleSpin)\n      }\n      stop(): void {\n        this.viewer.scene.postUpdate.removeEventListener(this.handleSpin)\n      }\n      handleSpin(scene: Scene, time: JulianDate): void {\n        if (scene.mode !== Cesium.SceneMode.SCENE3D) { return }\n        \n          const icrfToFixed = Cesium.Transforms.computeIcrfToFixedMatrix(time)\n          if (Cesium.defined(icrfToFixed)) {\n            const camera = this.viewer.camera\n            const offset = Cesium.Cartesian3.clone(camera.position)\n            const transform = Cesium.Matrix4.fromRotationTranslation(icrfToFixed)\n            camera.lookAtTransform(transform, offset)\n          }\n      }\n  }\n\n\nexport default EathSpin","import React, { FC, useEffect } from \"react\";\nimport \"./login.scss\"\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport VpnKey from '@material-ui/icons/VpnKey';\nimport { Button, Input, InputLabel, InputAdornment, FormControl, Typography } from \"@material-ui/core\";\nimport { CesiumViewer } from \"../components/CesiumViewer\";\nimport { Viewer } from \"cesium\";\nimport EathSpin from \"../components/CesiumViewer/src/camera/EathSpin\";\nimport {  RouteComponentProps } from \"react-router-dom\";\n\n// const { buildModuleUrl } = Cesium\n\n// import buildModuleUrl from \"cesium/Source/Core/buildModuleUrl\";\n// console.log(buildModuleUrl)\n\n// const useStyle = makeStyles(theme =>\n//     ({\n//         inputLabel:{\n//             color: theme.palette.primary.contrastText,\n//         },\n//         icon: {\n//             color: theme.palette.primary.light\n//         }\n//     }))\n\n// const initialState = {\n//     username: 'admin',\n//     password: 'admin'\n// }\n// interface Props extends RouteComponentProps<any> {\n//     /* Parent component's props*/\n//  }\nconst Login = (props: RouteComponentProps<any>) =>\n{\n    let Spinning: EathSpin\n    const handleViewerMount = (viewer: Viewer) =>\n    {\n        // viewer.scene.skyBox.show = false\n        viewer.scene.skyBox.sources = {\n            positiveX : './Assets/Textures/SkyBox_v2/px.png',\n            negativeX : './Assets/Textures/SkyBox_v2/nx.png',\n            positiveY : './Assets/Textures/SkyBox_v2/py.png',\n            negativeY : './Assets/Textures/SkyBox_v2/ny.png',\n            positiveZ : './Assets/Textures/SkyBox_v2/pz.png',\n            negativeZ : './Assets/Textures/SkyBox_v2/nz.png'\n          }\n        viewer.scene.globe.enableLighting = true\n        viewer.clock.shouldAnimate = true\n        viewer.clock.multiplier = 1500;\n        Spinning = new EathSpin(viewer)\n        Spinning.start()\n    }\n    const handleLogin = () =>\n    {\n        Spinning.stop()\n        console.log(props)\n        props.history.push(\"./Home\")\n    }\n    return (\n        <div className=\"login-container\">\n            <CesiumViewer onViewerMounted={handleViewerMount} />\n            <div className=\"login-form\">\n                <div className=\"item\">\n                    <Typography variant=\"h4\" align=\"center\"  >DEMO</Typography>\n                </div>\n                <div className=\"item\">\n                    <FormControl>\n                        <InputLabel  htmlFor=\"input-for-username\">username</InputLabel>\n                        <Input\n                            id=\"input-for-username\"\n                            startAdornment={\n                                <InputAdornment position=\"start\"><AccountCircle/></InputAdornment>\n                            }\n                            defaultValue=\"admin\"\n                        />\n                    </FormControl> \n                </div>\n                <div className=\"item\">\n                    <FormControl>\n                        <InputLabel  htmlFor=\"input-for-password\">password</InputLabel>\n                        <Input\n                            id=\"input-for-password\"\n                            startAdornment={\n                                <InputAdornment position=\"start\"><VpnKey/></InputAdornment>\n                            }\n                            defaultValue=\"admin\"\n                        />\n                    </FormControl>\n                </div>\n                <div  className=\"item action\">\n                    <Button variant=\"contained\" color=\"primary\" onClick={handleLogin}>login</Button>\n                </div>\n                \n                \n            </div>\n        </div>\n        \n    )\n}\n\nexport default Login"],"sourceRoot":""}